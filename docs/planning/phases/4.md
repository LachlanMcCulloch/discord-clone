### **Phase 4: Real-time Messaging (WebSocket Upgrade)** ⚡

_User Stories: #10_

**Backend:**

- WebSocket API Gateway setup
- Connection management (store connectionId in DynamoDB)
- Lambda handlers:
  - `$connect` (register connection with userId + channelId)
  - `$disconnect` (cleanup connection)
  - `sendMessage` (broadcast to all connections in channel)
- Modify REST POST to also broadcast via WebSocket

**Frontend:**

- WebSocket connection management (reconnect logic)
- Subscribe to channel on mount
- Listen for new messages via WebSocket
- **Remove polling**, use WebSocket events
- Handle connection states (connecting, connected, disconnected)

**Tests:**

- E2E: Open two browser windows → Send message in one → Appears in other instantly

**Deliverable:** Messages appear in real-time without polling

---
